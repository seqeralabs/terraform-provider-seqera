---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "seqera_aws_compute_env Resource - terraform-provider-seqera"
subcategory: ""
description: |-
  Manage AWS compute environments in Seqera platform using this resource.
  AWS compute environments define the execution platform where a pipeline will run
  on AWS infrastructure (AWS Batch, AWS Cloud, EKS).
---

# seqera_aws_compute_env (Resource)

Manage AWS compute environments in Seqera platform using this resource.

AWS compute environments define the execution platform where a pipeline will run
on AWS infrastructure (AWS Batch, AWS Cloud, EKS).

## Example Usage

```terraform
resource "seqera_aws_compute_env" "my_awscomputeenv" {
  config = {
    cli_path             = "...my_cli_path..."
    compute_job_role     = "...my_compute_job_role..."
    compute_queue        = "...my_compute_queue..."
    dragen_instance_type = "...my_dragen_instance_type..."
    dragen_queue         = "...my_dragen_queue..."
    environment = [
      {
        compute = false
        head    = true
        name    = "...my_name..."
        value   = "...my_value..."
      }
    ]
    execution_role = "...my_execution_role..."
    forge = {
      alloc_strategy = "BEST_FIT_PROGRESSIVE"
      allow_buckets = [
        "..."
      ]
      arm64_enabled        = true
      bid_percentage       = 8
      dispose_on_deletion  = false
      dragen_ami_id        = "...my_dragen_ami_id..."
      dragen_enabled       = true
      dragen_instance_type = "...my_dragen_instance_type..."
      ebs_auto_scale       = false
      ebs_block_size       = 2
      ebs_boot_size        = 3
      ec2_key_pair         = "...my_ec2_key_pair..."
      ecs_config           = "...my_ecs_config..."
      efs_create           = true
      efs_id               = "...my_efs_id..."
      efs_mount            = "...my_efs_mount..."
      fargate_head_enabled = true
      fsx_mount            = "...my_fsx_mount..."
      fsx_name             = "...my_fsx_name..."
      fsx_size             = 8
      fusion_enabled       = true
      gpu_enabled          = true
      image_id             = "...my_image_id..."
      instance_types = [
        "..."
      ]
      max_cpus = 4
      min_cpus = 1
      security_groups = [
        "..."
      ]
      subnets = [
        "..."
      ]
      type   = "EC2"
      vpc_id = "...my_vpc_id..."
    }
    fusion_snapshots      = false
    fusion2_enabled       = true
    head_job_cpus         = 9
    head_job_memory_mb    = 3
    head_job_role         = "...my_head_job_role..."
    head_queue            = "...my_head_queue..."
    log_group             = "...my_log_group..."
    lustre_id             = "...my_lustre_id..."
    nextflow_config       = "...my_nextflow_config..."
    nvnme_storage_enabled = true
    post_run_script       = "...my_post_run_script..."
    pre_run_script        = "...my_pre_run_script..."
    region                = "...my_region..."
    storage_type          = "...my_storage_type..."
    volumes = [
      "..."
    ]
    wave_enabled = false
    work_dir     = "...my_work_dir..."
  }
  credentials_id = "...my_credentials_id..."
  description    = "...my_description..."
  label_ids = [
    1
  ]
  name         = "...my_name..."
  platform     = "aws-batch"
  workspace_id = 7
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (Attributes) (see [below for nested schema](#nestedatt--config))
- `credentials_id` (String) AWS credentials identifier
- `name` (String) Display name for the compute environment
- `platform` (String) AWS platform type. must be "aws-batch"
- `workspace_id` (Number) Workspace numeric identifier

### Optional

- `description` (String) Optional description of the compute environment
- `label_ids` (List of Number) Requires replacement if changed.

### Read-Only

- `compute_env_id` (String) Unique identifier for the compute environment
- `date_created` (String) Timestamp when the compute environment was created
- `deleted` (Boolean) Flag indicating if the compute environment has been deleted
- `last_updated` (String) Timestamp when the compute environment was last updated
- `last_used` (String) Timestamp when the compute environment was last used
- `org_id` (Number)
- `status` (String) Compute environment status

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Required:

- `region` (String) AWS region where the compute environment will be deployed. This field is required and must be provided

Optional:

- `cli_path` (String)
- `compute_job_role` (String)
- `compute_queue` (String)
- `dragen_instance_type` (String)
- `dragen_queue` (String)
- `environment` (Attributes List) (see [below for nested schema](#nestedatt--config--environment))
- `execution_role` (String)
- `forge` (Attributes) (see [below for nested schema](#nestedatt--config--forge))
- `fusion2_enabled` (Boolean)
- `fusion_snapshots` (Boolean)
- `head_job_cpus` (Number)
- `head_job_memory_mb` (Number)
- `head_job_role` (String)
- `head_queue` (String)
- `log_group` (String)
- `lustre_id` (String, Deprecated)
- `nextflow_config` (String)
- `nvnme_storage_enabled` (Boolean)
- `post_run_script` (String)
- `pre_run_script` (String)
- `storage_type` (String, Deprecated)
- `volumes` (List of String)
- `wave_enabled` (Boolean)
- `work_dir` (String)

<a id="nestedatt--config--environment"></a>
### Nested Schema for `config.environment`

Optional:

- `compute` (Boolean)
- `head` (Boolean)
- `name` (String)
- `value` (String)


<a id="nestedatt--config--forge"></a>
### Nested Schema for `config.forge`

Optional:

- `alloc_strategy` (String) must be one of ["BEST_FIT", "BEST_FIT_PROGRESSIVE", "SPOT_CAPACITY_OPTIMIZED", "SPOT_PRICE_CAPACITY_OPTIMIZED"]
- `allow_buckets` (List of String)
- `arm64_enabled` (Boolean)
- `bid_percentage` (Number)
- `dispose_on_deletion` (Boolean)
- `dragen_ami_id` (String)
- `dragen_enabled` (Boolean)
- `dragen_instance_type` (String)
- `ebs_auto_scale` (Boolean)
- `ebs_block_size` (Number)
- `ebs_boot_size` (Number)
- `ec2_key_pair` (String)
- `ecs_config` (String)
- `efs_create` (Boolean)
- `efs_id` (String)
- `efs_mount` (String)
- `fargate_head_enabled` (Boolean)
- `fsx_mount` (String)
- `fsx_name` (String)
- `fsx_size` (Number)
- `fusion_enabled` (Boolean)
- `gpu_enabled` (Boolean)
- `image_id` (String)
- `instance_types` (List of String)
- `max_cpus` (Number) Not Null
- `min_cpus` (Number) Not Null
- `security_groups` (List of String)
- `subnets` (List of String)
- `type` (String) Not Null; must be one of ["SPOT", "EC2"]
- `vpc_id` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = seqera_aws_compute_env.my_seqera_aws_compute_env
  id = jsonencode({
    compute_env_id = "..."
    workspace_id = 0
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import seqera_aws_compute_env.my_seqera_aws_compute_env '{"compute_env_id": "...", "workspace_id": 0}'
```
