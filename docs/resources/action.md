---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "seqera_action Resource - terraform-provider-seqera"
subcategory: ""
description: |-
  Manage pipeline actions for event-based workflow automation.
  This resource allows the management of pipeline actions. Actions enable event-based
  pipeline execution, such as triggering a pipeline launch with a GitHub webhook whenever
  the pipeline repository is updated.
  Seqera Platform currently offers support for native GitHub webhooks and a general
  Tower webhook that can be invoked programmatically.
---

# seqera_action (Resource)

Manage pipeline actions for event-based workflow automation.

This resource allows the management of pipeline actions. Actions enable event-based
pipeline execution, such as triggering a pipeline launch with a GitHub webhook whenever
the pipeline repository is updated.

Seqera Platform currently offers support for native GitHub webhooks and a general
Tower webhook that can be invoked programmatically.

## Example Usage

```terraform
# Action Resource Examples
#
# Actions enable event-based pipeline execution in Seqera Platform, such as
# triggering a pipeline launch with a webhook whenever code is updated.
#
# IMPORTANT: GitHub webhook actions require a logged in GitHub account associated with the user creating
# the action.

# Example 1: Basic Tower webhook action (recommended - no GitHub account required)
resource "seqera_action" "tower_basic" {
  workspace_id = seqera_workspace.main.id
  name         = "api-triggered-pipeline"
  source       = "tower"

  launch = {
    pipeline       = "https://github.com/nextflow-io/hello"
    compute_env_id = seqera_compute_env.aws.id
    work_dir       = "s3://my-bucket/work"
    revision       = "master"
  }
}

# Example 2: Tower webhook with parameters (using jsonencode and heredoc)
resource "seqera_action" "tower_advanced" {
  workspace_id = seqera_workspace.main.id
  name         = "production-pipeline"
  source       = "tower"

  launch = {
    pipeline       = "https://github.com/myorg/production-pipeline"
    compute_env_id = seqera_compute_env.aws.id
    work_dir       = "s3://my-bucket/production/work"
    revision       = "master"

    params_text = jsonencode({
      input_data  = "s3://my-bucket/input/data.csv"
      output_dir  = "s3://my-bucket/results"
      sample_size = 1000
    })

    config_text = <<-EOT
      process {
        executor = 'awsbatch'
        queue    = 'my-production-queue'
        memory   = '8 GB'
        cpus     = 4
      }
    EOT

    pre_run_script = <<-EOT
      #!/bin/bash
      echo "Starting production pipeline run"
      aws s3 sync s3://my-bucket/reference ./reference
    EOT

    post_run_script = <<-EOT
      #!/bin/bash
      echo "Workflow completed"
      aws s3 sync ./results s3://my-bucket/results
    EOT

    resume      = true
    pull_latest = true
  }
}

# Example 3: GitHub webhook action (requires linked GitHub account)
resource "seqera_action" "github_webhook" {
  workspace_id = seqera_workspace.main.id
  name         = "github-push-trigger"
  source       = "github"

  config = {
    github = {
      discriminator = "github"
    }
  }

  launch = {
    pipeline       = "https://github.com/myorg/my-pipeline"
    compute_env_id = seqera_compute_env.aws.id
    work_dir       = "s3://my-bucket/work"
    revision       = "master"

    config_profiles = ["docker", "aws"]

    params_text = jsonencode({
      input  = "s3://my-bucket/input.csv"
      output = "s3://my-bucket/results"
    })
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `launch` (Attributes) (see [below for nested schema](#nestedatt--launch))
- `name` (String) Human-readable name for the action
- `workspace_id` (Number) Workspace numeric identifier

### Optional

- `source` (String) must be one of ["github", "tower"]; Requires replacement if changed.

### Read-Only

- `action_id` (String) Action string identifier
- `config` (Attributes) (see [below for nested schema](#nestedatt--config))
- `hook_id` (String) Identifier for the webhook associated with this action
- `hook_url` (String) URL endpoint for the webhook that triggers this action
- `id` (String) Unique identifier for the action
- `message` (String) Status or informational message about the action
- `status` (String)

<a id="nestedatt--launch"></a>
### Nested Schema for `launch`

Optional:

- `compute_env_id` (String)
- `config_profiles` (List of String)
- `config_text` (String)
- `entry_name` (String)
- `head_job_cpus` (Number)
- `head_job_memory_mb` (Number)
- `label_ids` (List of Number)
- `main_script` (String)
- `params_text` (String)
- `pipeline` (String)
- `post_run_script` (String) Add a script that executes after all Nextflow processes have completed. See [Pre and post-run scripts](https://docs.seqera.io/platform-cloud/launch/advanced#pre-and-post-run-scripts).
- `pre_run_script` (String) Add a script that executes in the nf-launch script prior to invoking Nextflow processes. See [Pre and post-run scripts](https://docs.seqera.io/platform-cloud/launch/advanced#pre-and-post-run-scripts).
- `pull_latest` (Boolean)
- `resume` (Boolean)
- `revision` (String)
- `run_name` (String)
- `schema_name` (String)
- `stub_run` (Boolean)
- `tower_config` (String)
- `user_secrets` (List of String)
- `work_dir` (String)
- `workspace_secrets` (List of String)

Read-Only:

- `id` (String)
- `launch_container` (String)
- `optimization_id` (String)
- `optimization_targets` (String)
- `resume_launch_id` (String)
- `session_id` (String)


<a id="nestedatt--config"></a>
### Nested Schema for `config`

Read-Only:

- `github` (Attributes) (see [below for nested schema](#nestedatt--config--github))
- `tower` (Attributes) (see [below for nested schema](#nestedatt--config--tower))

<a id="nestedatt--config--github"></a>
### Nested Schema for `config.github`

Read-Only:

- `discriminator` (String)


<a id="nestedatt--config--tower"></a>
### Nested Schema for `config.tower`

Read-Only:

- `discriminator` (String)

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = seqera_action.my_seqera_action
  id = "..."
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import seqera_action.my_seqera_action "..."
```
