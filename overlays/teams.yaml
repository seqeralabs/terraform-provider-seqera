overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Teams Overlay
  version: 0.0.0

# ==============================================================================
# TEAMS RESOURCE OVERLAY
# ==============================================================================
#
# Teams are organizational units within organizations that group users together,
# enabling organization owners to manage team members and access permissions
# collectively. Teams provide fine-grained access control for workspaces and
# resources within an organization.
#
# KEY CONCEPTS:
# -------------
# - Teams belong to organizations and must reference an org_id
# - Teams can have multiple members with shared permissions
# - Teams can be granted access to workspaces with specific roles
# - Team avatars are optional and provide visual identification
#
# TERRAFORM EXAMPLES:
# -------------------
#
# Example 1: Basic team
# resource "seqera_teams" "basic" {
#   org_id = seqera_orgs.my_org.id
#   name   = "bioinformatics-team"
# }
#
# Example 2: Team with description and avatar
# resource "seqera_teams" "research" {
#   org_id      = seqera_orgs.my_org.id
#   name        = "bioinformatics-team"
#   description = "Team responsible for bioinformatics analysis and pipeline development"
#   avatar_id   = "avatar-123456"
# }
#
# ==============================================================================

actions:
  # Team schema annotations
  - target: $["components"]["schemas"]["Team"]["properties"]["id"]
    update:
      x-speakeasy-param-optional: true
  - target: $["components"]["schemas"]["Team"]["properties"]["id"]
    update:
      x-speakeasy-name-override: teamId
  - target: $["components"]["schemas"]["TeamDbDto"]["properties"]["teamId"]
    update:
      x-speakeasy-param-optional: true
  - target: $["components"]["schemas"]["TeamDbDto"]["properties"]["teamId"]
    update:
      x-speakeasy-name-override: teamId

  # Team entity annotations
  - target: $.components.schemas.Team
    update:
      x-speakeasy-entity: Teams
      x-speakeasy-entity-description: |
        Manage teams within organizations.

        Teams are organizational units that allow
        organization owners to group users together,
        managing team members and access permissions as a whole.
  - target: $.components.schemas.TeamDbDto
    update:
      x-speakeasy-entity: Teams

  # Team parameter optional annotation
  - target: $.components.schemas.TeamDbDto.properties.teamId
    update:
      x-speakeasy-param-optional: true

  # Updated overlay annotations
  - target: $["components"]["schemas"]["Team"]
    update:
      x-speakeasy-entity: Teams
  - target: $["components"]["schemas"]["TeamDbDto"]
    update:
      x-speakeasy-entity: Teams

  # Request examples for Teams
  - target: $.components.schemas.CreateTeamRequest.properties.avatarId
    update:
      example: "avatar-123456"
  - target: $.components.schemas.Team.properties.name
    update:
      example: "bioinformatics-team"
  - target: $.components.schemas.Team.properties.description
    update:
      example: "Team responsible for bioinformatics analysis and pipeline development"

  # Schema description
  - target: $.components.schemas.TeamDbDto
    update:
      description: |
        Represents a team within an organization.
        Contains team membership, permissions, and access controls
        for collaborative workspace management.

  # Field descriptions for TeamDbDto
  - target: $.components.schemas.TeamDbDto.properties.teamId
    update:
      description: Unique numeric identifier for the team
  - target: $.components.schemas.TeamDbDto.properties.name
    update:
      description: Display name for the team
  - target: $.components.schemas.TeamDbDto.properties.description
    update:
      description: Description of the team's purpose and responsibilities
  - target: $.components.schemas.TeamDbDto.properties.avatarUrl
    update:
      description: URL to the team's avatar or profile image
  - target: $.components.schemas.TeamDbDto.properties.membersCount
    update:
      description: Total number of members in the team
