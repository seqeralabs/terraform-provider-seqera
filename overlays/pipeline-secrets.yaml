overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Pipeline Secrets Overlay
  version: 0.0.0
actions:
  # Pipeline secrets entity operations
  - target: $["paths"]["/pipeline-secrets"]["post"]
    update:
      x-speakeasy-entity-operation: PipelineSecret#create
  - target: $["paths"]["/pipeline-secrets/{secretId}"]["get"]
    update:
      x-speakeasy-entity-operation: PipelineSecret#read
  - target: $["paths"]["/pipeline-secrets/{secretId}"]["put"]
    update:
      x-speakeasy-entity-operation: PipelineSecret#update
  - target: $["paths"]["/pipeline-secrets/{secretId}"]["delete"]
    update:
      x-speakeasy-entity-operation: PipelineSecret#delete

  # PipelineSecret entity annotation
  - target: $["components"]["schemas"]["PipelineSecret"]
    update:
      x-speakeasy-entity: PipelineSecret
      x-speakeasy-entity-description: |
        Manage secure secrets for pipeline execution.

        Pipeline secrets store encrypted sensitive data such as API keys,
        passwords, and configuration values used in workflows, providing
        secure access to external services and resources.

  # Request examples for Pipeline Secret
  - target: $.components.schemas.CreatePipelineSecretRequest.properties.name
    update:
      example: "database_password"
  - target: $.components.schemas.CreatePipelineSecretRequest.properties.value
    update:
      example: "super-secret-password-123"

  # Schema description
  - target: $.components.schemas.PipelineSecret
    update:
      description: |
        Represents a secure secret for pipeline execution.
        Contains encrypted sensitive data such as API keys, passwords,
        and configuration values used in workflows.

  # Field descriptions for PipelineSecret
  - target: $.components.schemas.PipelineSecret.properties.id
    update:
      description: Unique numeric identifier for the secret (nullable)
  - target: $.components.schemas.PipelineSecret.properties.name
    update:
      description: Secret name following naming conventions (max 100 characters)
  - target: $.components.schemas.PipelineSecret.properties.lastUsed
    update:
      description: Read-only timestamp when the secret was last accessed
  - target: $.components.schemas.PipelineSecret.properties.dateCreated
    update:
      description: Read-only timestamp when the secret was created
