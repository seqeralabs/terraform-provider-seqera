overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: DataLinks Overlay
  version: 0.0.0
actions:
  # DataLink entity operations
  - target: $["paths"]["/data-links"]["post"]
    update:
      x-speakeasy-entity-operation:
        terraform-datasource: null
        terraform-resource: DataLink#create
  - target: $["paths"]["/data-links/{dataLinkId}"]["get"]
    update:
      x-speakeasy-entity-operation:
        terraform-datasource: null
        terraform-resource: DataLink#read
  - target: $["paths"]["/data-links/{dataLinkId}"]["put"]
    update:
      x-speakeasy-entity-operation:
        terraform-datasource: null
        terraform-resource: DataLink#update
  - target: $["paths"]["/data-links/{dataLinkId}"]["delete"]
    update:
      x-speakeasy-entity-operation:
        terraform-datasource: null
        terraform-resource: DataLink#delete

  # DataLink parameter configurations
  - target: $["paths"]["/data-links"]["post"]["parameters"][0]
    update:
      required: true
  - target: $["components"]["schemas"]["DataLinkDto"]["properties"]["id"]
    update:
      x-speakeasy-name-override: dataLinkId
  - target: $["components"]["schemas"]["DataLinkProvider"]
    update:
      x-speakeasy-name-override: providerType

  # DataLink entity annotation
  - target: $["components"]["schemas"]["DataLinkDto"]
    update:
      x-speakeasy-entity: DataLink
      x-speakeasy-entity-description: |
        Manage connections to external storage systems and data repositories.

        Data links provide access to cloud storage for pipeline input/output operations,
        enabling seamless data integration.

  # DataLink description update
  - target: $["paths"]["/data-links/{dataLinkId}/script/download"]["get"]["description"]
    update: "Creates a script to download files from the data-link associated with the given `dataLinkId`. Append `?dirs` or `?files` to specify a list of files or paths to download within the data-link."

  # DataLinkProvider enum updates
  - target: $["components"]["schemas"]["DataLinkProvider"]["enum"][*]
    remove: true
  - target: $["components"]["schemas"]["DataLinkProvider"]["enum"]
    update:
      - aws
      - google
      - azure
      - azure_entra
      - seqeracompute

  # Request examples for DataLink
  - target: $.components.schemas.DataLinkCreateRequest.properties.name
    update:
      example: "my-s3-datalink"
  - target: $.components.schemas.DataLinkCreateRequest.properties.description
    update:
      example: "S3 bucket for production data storage"
  - target: $.components.schemas.DataLinkCreateRequest.properties.credentialsId
    update:
      example: "aws-credentials-id"
  - target: $.components.schemas.DataLinkCreateRequest.properties.type
    update:
      example: "bucket"
  - target: $.components.schemas.DataLinkCreateRequest.properties.provider
    update:
      example: "aws"
  - target: $.components.schemas.DataLinkCreateRequest.properties.resourceRef
    update:
      example: "s3://my-bucket"
  - target: $.components.schemas.DataLinkCreateRequest.properties.publicAccessible
    update:
      example: false

  # Schema description
  - target: $.components.schemas.DataLinkDto
    update:
      description: |
        Represents a data link connection to external storage systems.
        Provides access to cloud storage, file systems, and data repositories
        for pipeline input/output operations.

  # Field descriptions for DataLinkDto
  - target: $.components.schemas.DataLinkDto.properties.id
    update:
      description: Unique identifier for the data link
  - target: $.components.schemas.DataLinkDto.properties.name
    update:
      description: Display name for the data link connection
  - target: $.components.schemas.DataLinkDto.properties.description
    update:
      description: Description of the data link's purpose and contents
  - target: $.components.schemas.DataLinkDto.properties.resourceRef
    update:
      description: Reference identifier for the external resource
  - target: $.components.schemas.DataLinkDto.properties.type
    update:
      description: Type of data link (e.g., S3, Azure Blob, etc.)
  - target: $.components.schemas.DataLinkDto.properties.provider
    update:
      description: Cloud provider hosting the data link
  - target: $.components.schemas.DataLinkDto.properties.region
    update:
      description: Geographic region where the data link is hosted
  - target: $.components.schemas.DataLinkDto.properties.credentials
    update:
      description: Array of credentials required to access the data link
