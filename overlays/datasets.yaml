overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Datasets Overlay
  version: 0.0.0
actions:
  # Remove existing entity operation
  - target: $["paths"]["/datasets"]["get"]["x-speakeasy-entity-operation"]
    remove: true

  # Dataset entity operations
  - target: $["paths"]["/datasets"]["post"]
    update:
      x-speakeasy-entity-operation: Datasets#create
  - target: $["paths"]["/datasets/{datasetId}"]["put"]
    update:
      x-speakeasy-entity-operation: Dataset#update
  - target: $["paths"]["/datasets/{datasetId}"]["delete"]
    update:
      x-speakeasy-entity-operation: Dataset#delete
  - target: $["paths"]["/datasets/{datasetId}/metadata"]["get"]
    update:
      x-speakeasy-entity-operation: Dataset#read

  # Dataset entity annotation
  - target: $["components"]["schemas"]["Dataset"]
    update:
      x-speakeasy-entity: Datasets
      x-speakeasy-entity-description: |
        Manage datasets for storing and versioning research data.

        Datasets in Seqera are CSV (comma-separated values) and TSV
        (tab-separated values) files stored in a workspace.

        They are used as inputs to pipelines to simplify data management,
        minimize user data-input errors, and facilitate reproducible workflows.

  # Dataset parameter requirements
  - target: $["paths"]["/datasets"]["post"]["parameters"][0]
    update:
      required: true
