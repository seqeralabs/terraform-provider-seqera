overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Codecommit Credentials Overlay
  version: 0.0.1
actions:
- target: $.paths
  update:
    /credentials#codecommit:
      post:
        x-speakeasy-entity-operation: CodecommitCredential#create
        x-speakeasy-name-override: CreateCodecommitCredentials
        summary: Create Codecommit credentials
        description: Creates new Codecommit credentials in a user context. Append `?workspaceId` to create the credentials
          in a workspace context.
        tags:
        - credentials
        operationId: CreateCodecommitCredentials
        parameters:
        - name: workspaceId
          in: query
          description: Workspace numeric identifier
          schema:
            type: integer
            format: int64
        requestBody:
          description: Codecommit credentials create request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateCodecommitCredentialsRequest'
          required: true
        responses:
          '200':
            description: OK
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/CreateCodecommitCredentialsResponse'
          '400':
            description: Bad request
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorResponse'
          '403':
            description: Operation not allowed
          '409':
            description: Conflict - resource already exists
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorResponse'
        security:
        - BearerAuth: []
    /credentials/{credentialsId}#codecommit:
      get:
        x-speakeasy-entity-operation: CodecommitCredential#read
        x-speakeasy-name-override: DescribeCodecommitCredentials
        summary: Describe Codecommit credentials
        description: Retrieves the details of the Codecommit credentials identified by the given `credentialsId`.
        tags:
        - credentials
        operationId: DescribeCodecommitCredentials
        parameters:
        - name: credentialsId
          in: path
          description: Credentials string identifier
          required: true
          schema:
            type: string
        - name: workspaceId
          in: query
          description: Workspace numeric identifier
          schema:
            type: integer
            format: int64
        responses:
          '200':
            description: OK
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/DescribeCodecommitCredentialsResponse'
          '400':
            description: Bad request
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorResponse'
          '403':
            description: Operation not allowed
          '404':
            description: Not Found - Credential does not exist or has been deleted
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorResponse'
        security:
        - BearerAuth: []
      put:
        x-speakeasy-entity-operation: CodecommitCredential#update
        x-speakeasy-name-override: UpdateCodecommitCredentials
        summary: Update Codecommit credentials
        description: Updates the details of the Codecommit credentials identified by the given `credentialsId`.
        tags:
        - credentials
        operationId: UpdateCodecommitCredentials
        parameters:
        - name: credentialsId
          in: path
          description: Credentials string identifier
          required: true
          schema:
            type: string
        - name: workspaceId
          in: query
          description: Workspace numeric identifier
          schema:
            type: integer
            format: int64
        requestBody:
          description: Codecommit credentials update request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateCodecommitCredentialsRequest'
          required: true
        responses:
          '204':
            description: OK - No content
          '400':
            description: Bad request
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorResponse'
          '403':
            description: Operation not allowed
        security:
        - BearerAuth: []
      delete:
        x-speakeasy-entity-operation: CodecommitCredential#delete
        x-speakeasy-name-override: DeleteCodecommitCredentials
        summary: Delete Codecommit credentials
        description: Deletes the Codecommit credentials identified by the given `credentialsId`.
        tags:
        - credentials
        operationId: DeleteCodecommitCredentials
        parameters:
        - name: credentialsId
          in: path
          description: Credentials string identifier
          required: true
          schema:
            type: string
        - name: workspaceId
          in: query
          description: Workspace numeric identifier
          schema:
            type: integer
            format: int64
        responses:
          '204':
            description: OK - No content
          '400':
            description: Bad request
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/ErrorResponse'
          '403':
            description: Operation not allowed
        security:
        - BearerAuth: []
- target: $.components.schemas
  update:
    CodecommitCredential:
      required:
      - name
      - keys
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the credential (max 22 characters)
          x-speakeasy-param-readonly: true
          x-speakeasy-param-suppress-computed-diff: true
        name:
          maxLength: 100
          type: string
          description: Display name for the credential (max 100 characters)
          x-speakeasy-param-force-new: true
        provider:
          type: string
          enum:
          - codecommit
          default: codecommit
          description: Cloud provider type (automatically set to "codecommit")
          x-speakeasy-name-override: providerType
          x-speakeasy-param-readonly: true
        deleted:
          type: boolean
          description: Flag indicating if the credential has been soft-deleted
          x-speakeasy-param-readonly: true
          x-speakeasy-terraform-ignore: true
        lastUsed:
          type: string
          format: date-time
          description: Timestamp when the credential was last used
          x-speakeasy-param-readonly: true
          x-speakeasy-terraform-ignore: true
        dateCreated:
          type: string
          format: date-time
          description: Timestamp when the credential was created
          x-speakeasy-param-readonly: true
          x-speakeasy-terraform-ignore: true
        lastUpdated:
          type: string
          format: date-time
          description: Timestamp when the credential was last updated
          x-speakeasy-param-readonly: true
          x-speakeasy-terraform-ignore: true
        keys:
          x-speakeasy-entity: CodecommitCredential
          x-speakeasy-terraform-resource-name: codecommit_credential
          x-speakeasy-entity-description: 'Manage Codecommit credentials in Seqera platform using this resource.


            Codecommit credentials store AWS authentication information for accessing

            AWS Codecommit repositories within the Seqera Platform workflows.

            '
          type: object
          required:
          - accessKey
          - secretKey
          properties:
            accessKey:
              type: string
              description: AWS access key to access the Codecommit repository (required)
              example: AKIAIOSFODNN7EXAMPLE
              x-speakeasy-param-computed: false
              x-speakeasy-name-override: access_key
            secretKey:
              type: string
              description: AWS secret key to access the Codecommit repository (required, sensitive)
              x-speakeasy-param-sensitive: true
              x-speakeasy-param-computed: false
              example: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
              x-speakeasy-name-override: secret_key
            baseUrl:
              type: string
              description: 'Repository base URL to associate with a specific repository or AWS region (optional). Example:
                https://git-codecommit.eu-west-1.amazonaws.com'
              example: https://git-codecommit.us-east-1.amazonaws.com
              x-speakeasy-param-computed: false
              x-speakeasy-name-override: base_url
    CreateCodecommitCredentialsRequest:
      type: object
      properties:
        credentials:
          $ref: '#/components/schemas/CodecommitCredential'
    CreateCodecommitCredentialsResponse:
      type: object
      properties:
        credentialsId:
          type: string
    UpdateCodecommitCredentialsRequest:
      type: object
      properties:
        credentials:
          $ref: '#/components/schemas/CodecommitCredential'
    DescribeCodecommitCredentialsResponse:
      type: object
      properties:
        credentials:
          $ref: '#/components/schemas/CodecommitCredential'
- target: $.components.schemas.CodecommitCredential.properties.description
  remove: true
- target: $.components.schemas.CodecommitCredential.properties.baseUrl
  remove: true
- target: $.components.schemas.CodecommitCredential.properties.category
  remove: true
- target: $.components.schemas.CodecommitCredential.properties.keys.properties.secretKey
  update:
    writeOnly: true
- target: $.components.schemas.CodecommitCredential.properties.keys.properties.baseUrl
  update:
    writeOnly: true
