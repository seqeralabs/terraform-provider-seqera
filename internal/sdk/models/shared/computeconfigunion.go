// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/seqeralabs/terraform-provider-seqera/internal/sdk/internal/utils"
)

type ComputeConfigUnionType string

const (
	ComputeConfigUnionTypeMoabPlatform          ComputeConfigUnionType = "moab-platform"
	ComputeConfigUnionTypeAwsBatch              ComputeConfigUnionType = "aws-batch"
	ComputeConfigUnionTypeLocalPlatform         ComputeConfigUnionType = "local-platform"
	ComputeConfigUnionTypeGkePlatform           ComputeConfigUnionType = "gke-platform"
	ComputeConfigUnionTypeGoogleBatch           ComputeConfigUnionType = "google-batch"
	ComputeConfigUnionTypeAwsCloud              ComputeConfigUnionType = "aws-cloud"
	ComputeConfigUnionTypeSlurmPlatform         ComputeConfigUnionType = "slurm-platform"
	ComputeConfigUnionTypeK8sPlatform           ComputeConfigUnionType = "k8s-platform"
	ComputeConfigUnionTypeAltairPlatform        ComputeConfigUnionType = "altair-platform"
	ComputeConfigUnionTypeLsfPlatform           ComputeConfigUnionType = "lsf-platform"
	ComputeConfigUnionTypeAzureBatch            ComputeConfigUnionType = "azure-batch"
	ComputeConfigUnionTypeSeqeracomputePlatform ComputeConfigUnionType = "seqeracompute-platform"
	ComputeConfigUnionTypeEksPlatform           ComputeConfigUnionType = "eks-platform"
	ComputeConfigUnionTypeGoogleLifesciences    ComputeConfigUnionType = "google-lifesciences"
	ComputeConfigUnionTypeUgePlatform           ComputeConfigUnionType = "uge-platform"
)

type ComputeConfigUnion struct {
	AwsBatchConfig           *AwsBatchConfig           `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	AwsCloudConfig           *AwsCloudConfig           `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	SeqeraComputeConfig      *SeqeraComputeConfig      `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	GoogleLifeSciencesConfig *GoogleLifeSciencesConfig `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	GoogleBatchConfig        *GoogleBatchConfig        `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	AzBatchConfig            *AzBatchConfig            `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	LsfComputeConfig         *LsfComputeConfig         `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	SlurmComputeConfig       *SlurmComputeConfig       `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	K8sComputeConfig         *K8sComputeConfig         `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	EksComputeConfig         *EksComputeConfig         `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	GkeComputeConfig         *GkeComputeConfig         `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	UnivaComputeConfig       *UnivaComputeConfig       `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	AltairPbsComputeConfig   *AltairPbsComputeConfig   `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	MoabComputeConfig        *MoabComputeConfig        `queryParam:"inline,name=ComputeConfigUnion" union:"member"`
	LocalComputeConfig       *LocalComputeConfig       `queryParam:"inline,name=ComputeConfigUnion" union:"member"`

	Type ComputeConfigUnionType
}

func CreateComputeConfigUnionMoabPlatform(moabPlatform MoabComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeMoabPlatform

	typStr := string(typ)
	moabPlatform.ConfigType = typStr

	return ComputeConfigUnion{
		MoabComputeConfig: &moabPlatform,
		Type:              typ,
	}
}

func CreateComputeConfigUnionAwsBatch(awsBatch AwsBatchConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeAwsBatch

	typStr := string(typ)
	awsBatch.ConfigType = typStr

	return ComputeConfigUnion{
		AwsBatchConfig: &awsBatch,
		Type:           typ,
	}
}

func CreateComputeConfigUnionLocalPlatform(localPlatform LocalComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeLocalPlatform

	typStr := string(typ)
	localPlatform.ConfigType = typStr

	return ComputeConfigUnion{
		LocalComputeConfig: &localPlatform,
		Type:               typ,
	}
}

func CreateComputeConfigUnionGkePlatform(gkePlatform GkeComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeGkePlatform

	typStr := string(typ)
	gkePlatform.ConfigType = typStr

	return ComputeConfigUnion{
		GkeComputeConfig: &gkePlatform,
		Type:             typ,
	}
}

func CreateComputeConfigUnionGoogleBatch(googleBatch GoogleBatchConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeGoogleBatch

	typStr := string(typ)
	googleBatch.ConfigType = typStr

	return ComputeConfigUnion{
		GoogleBatchConfig: &googleBatch,
		Type:              typ,
	}
}

func CreateComputeConfigUnionAwsCloud(awsCloud AwsCloudConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeAwsCloud

	typStr := string(typ)
	awsCloud.ConfigType = typStr

	return ComputeConfigUnion{
		AwsCloudConfig: &awsCloud,
		Type:           typ,
	}
}

func CreateComputeConfigUnionSlurmPlatform(slurmPlatform SlurmComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeSlurmPlatform

	typStr := string(typ)
	slurmPlatform.ConfigType = typStr

	return ComputeConfigUnion{
		SlurmComputeConfig: &slurmPlatform,
		Type:               typ,
	}
}

func CreateComputeConfigUnionK8sPlatform(k8sPlatform K8sComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeK8sPlatform

	typStr := string(typ)
	k8sPlatform.ConfigType = typStr

	return ComputeConfigUnion{
		K8sComputeConfig: &k8sPlatform,
		Type:             typ,
	}
}

func CreateComputeConfigUnionAltairPlatform(altairPlatform AltairPbsComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeAltairPlatform

	typStr := string(typ)
	altairPlatform.ConfigType = typStr

	return ComputeConfigUnion{
		AltairPbsComputeConfig: &altairPlatform,
		Type:                   typ,
	}
}

func CreateComputeConfigUnionLsfPlatform(lsfPlatform LsfComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeLsfPlatform

	typStr := string(typ)
	lsfPlatform.ConfigType = typStr

	return ComputeConfigUnion{
		LsfComputeConfig: &lsfPlatform,
		Type:             typ,
	}
}

func CreateComputeConfigUnionAzureBatch(azureBatch AzBatchConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeAzureBatch

	typStr := string(typ)
	azureBatch.ConfigType = typStr

	return ComputeConfigUnion{
		AzBatchConfig: &azureBatch,
		Type:          typ,
	}
}

func CreateComputeConfigUnionSeqeracomputePlatform(seqeracomputePlatform SeqeraComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeSeqeracomputePlatform

	typStr := string(typ)
	seqeracomputePlatform.ConfigType = typStr

	return ComputeConfigUnion{
		SeqeraComputeConfig: &seqeracomputePlatform,
		Type:                typ,
	}
}

func CreateComputeConfigUnionEksPlatform(eksPlatform EksComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeEksPlatform

	typStr := string(typ)
	eksPlatform.ConfigType = typStr

	return ComputeConfigUnion{
		EksComputeConfig: &eksPlatform,
		Type:             typ,
	}
}

func CreateComputeConfigUnionGoogleLifesciences(googleLifesciences GoogleLifeSciencesConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeGoogleLifesciences

	typStr := string(typ)
	googleLifesciences.ConfigType = typStr

	return ComputeConfigUnion{
		GoogleLifeSciencesConfig: &googleLifesciences,
		Type:                     typ,
	}
}

func CreateComputeConfigUnionUgePlatform(ugePlatform UnivaComputeConfig) ComputeConfigUnion {
	typ := ComputeConfigUnionTypeUgePlatform

	typStr := string(typ)
	ugePlatform.ConfigType = typStr

	return ComputeConfigUnion{
		UnivaComputeConfig: &ugePlatform,
		Type:               typ,
	}
}

func (u *ComputeConfigUnion) UnmarshalJSON(data []byte) error {

	type discriminator struct {
		ConfigType string `json:"configType"`
	}

	dis := new(discriminator)
	if err := json.Unmarshal(data, &dis); err != nil {
		return fmt.Errorf("could not unmarshal discriminator: %w", err)
	}

	switch dis.ConfigType {
	case "moab-platform":
		moabComputeConfig := new(MoabComputeConfig)
		if err := utils.UnmarshalJSON(data, &moabComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == moab-platform) type MoabComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.MoabComputeConfig = moabComputeConfig
		u.Type = ComputeConfigUnionTypeMoabPlatform
		return nil
	case "aws-batch":
		awsBatchConfig := new(AwsBatchConfig)
		if err := utils.UnmarshalJSON(data, &awsBatchConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == aws-batch) type AwsBatchConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.AwsBatchConfig = awsBatchConfig
		u.Type = ComputeConfigUnionTypeAwsBatch
		return nil
	case "local-platform":
		localComputeConfig := new(LocalComputeConfig)
		if err := utils.UnmarshalJSON(data, &localComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == local-platform) type LocalComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.LocalComputeConfig = localComputeConfig
		u.Type = ComputeConfigUnionTypeLocalPlatform
		return nil
	case "gke-platform":
		gkeComputeConfig := new(GkeComputeConfig)
		if err := utils.UnmarshalJSON(data, &gkeComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == gke-platform) type GkeComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.GkeComputeConfig = gkeComputeConfig
		u.Type = ComputeConfigUnionTypeGkePlatform
		return nil
	case "google-batch":
		googleBatchConfig := new(GoogleBatchConfig)
		if err := utils.UnmarshalJSON(data, &googleBatchConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == google-batch) type GoogleBatchConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.GoogleBatchConfig = googleBatchConfig
		u.Type = ComputeConfigUnionTypeGoogleBatch
		return nil
	case "aws-cloud":
		awsCloudConfig := new(AwsCloudConfig)
		if err := utils.UnmarshalJSON(data, &awsCloudConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == aws-cloud) type AwsCloudConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.AwsCloudConfig = awsCloudConfig
		u.Type = ComputeConfigUnionTypeAwsCloud
		return nil
	case "slurm-platform":
		slurmComputeConfig := new(SlurmComputeConfig)
		if err := utils.UnmarshalJSON(data, &slurmComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == slurm-platform) type SlurmComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.SlurmComputeConfig = slurmComputeConfig
		u.Type = ComputeConfigUnionTypeSlurmPlatform
		return nil
	case "k8s-platform":
		k8sComputeConfig := new(K8sComputeConfig)
		if err := utils.UnmarshalJSON(data, &k8sComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == k8s-platform) type K8sComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.K8sComputeConfig = k8sComputeConfig
		u.Type = ComputeConfigUnionTypeK8sPlatform
		return nil
	case "altair-platform":
		altairPbsComputeConfig := new(AltairPbsComputeConfig)
		if err := utils.UnmarshalJSON(data, &altairPbsComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == altair-platform) type AltairPbsComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.AltairPbsComputeConfig = altairPbsComputeConfig
		u.Type = ComputeConfigUnionTypeAltairPlatform
		return nil
	case "lsf-platform":
		lsfComputeConfig := new(LsfComputeConfig)
		if err := utils.UnmarshalJSON(data, &lsfComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == lsf-platform) type LsfComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.LsfComputeConfig = lsfComputeConfig
		u.Type = ComputeConfigUnionTypeLsfPlatform
		return nil
	case "azure-batch":
		azBatchConfig := new(AzBatchConfig)
		if err := utils.UnmarshalJSON(data, &azBatchConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == azure-batch) type AzBatchConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.AzBatchConfig = azBatchConfig
		u.Type = ComputeConfigUnionTypeAzureBatch
		return nil
	case "seqeracompute-platform":
		seqeraComputeConfig := new(SeqeraComputeConfig)
		if err := utils.UnmarshalJSON(data, &seqeraComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == seqeracompute-platform) type SeqeraComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.SeqeraComputeConfig = seqeraComputeConfig
		u.Type = ComputeConfigUnionTypeSeqeracomputePlatform
		return nil
	case "eks-platform":
		eksComputeConfig := new(EksComputeConfig)
		if err := utils.UnmarshalJSON(data, &eksComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == eks-platform) type EksComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.EksComputeConfig = eksComputeConfig
		u.Type = ComputeConfigUnionTypeEksPlatform
		return nil
	case "google-lifesciences":
		googleLifeSciencesConfig := new(GoogleLifeSciencesConfig)
		if err := utils.UnmarshalJSON(data, &googleLifeSciencesConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == google-lifesciences) type GoogleLifeSciencesConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.GoogleLifeSciencesConfig = googleLifeSciencesConfig
		u.Type = ComputeConfigUnionTypeGoogleLifesciences
		return nil
	case "uge-platform":
		univaComputeConfig := new(UnivaComputeConfig)
		if err := utils.UnmarshalJSON(data, &univaComputeConfig, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (ConfigType == uge-platform) type UnivaComputeConfig within ComputeConfigUnion: %w", string(data), err)
		}

		u.UnivaComputeConfig = univaComputeConfig
		u.Type = ComputeConfigUnionTypeUgePlatform
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for ComputeConfigUnion", string(data))
}

func (u ComputeConfigUnion) MarshalJSON() ([]byte, error) {
	if u.AwsBatchConfig != nil {
		return utils.MarshalJSON(u.AwsBatchConfig, "", true)
	}

	if u.AwsCloudConfig != nil {
		return utils.MarshalJSON(u.AwsCloudConfig, "", true)
	}

	if u.SeqeraComputeConfig != nil {
		return utils.MarshalJSON(u.SeqeraComputeConfig, "", true)
	}

	if u.GoogleLifeSciencesConfig != nil {
		return utils.MarshalJSON(u.GoogleLifeSciencesConfig, "", true)
	}

	if u.GoogleBatchConfig != nil {
		return utils.MarshalJSON(u.GoogleBatchConfig, "", true)
	}

	if u.AzBatchConfig != nil {
		return utils.MarshalJSON(u.AzBatchConfig, "", true)
	}

	if u.LsfComputeConfig != nil {
		return utils.MarshalJSON(u.LsfComputeConfig, "", true)
	}

	if u.SlurmComputeConfig != nil {
		return utils.MarshalJSON(u.SlurmComputeConfig, "", true)
	}

	if u.K8sComputeConfig != nil {
		return utils.MarshalJSON(u.K8sComputeConfig, "", true)
	}

	if u.EksComputeConfig != nil {
		return utils.MarshalJSON(u.EksComputeConfig, "", true)
	}

	if u.GkeComputeConfig != nil {
		return utils.MarshalJSON(u.GkeComputeConfig, "", true)
	}

	if u.UnivaComputeConfig != nil {
		return utils.MarshalJSON(u.UnivaComputeConfig, "", true)
	}

	if u.AltairPbsComputeConfig != nil {
		return utils.MarshalJSON(u.AltairPbsComputeConfig, "", true)
	}

	if u.MoabComputeConfig != nil {
		return utils.MarshalJSON(u.MoabComputeConfig, "", true)
	}

	if u.LocalComputeConfig != nil {
		return utils.MarshalJSON(u.LocalComputeConfig, "", true)
	}

	return nil, errors.New("could not marshal union type ComputeConfigUnion: all fields are null")
}
