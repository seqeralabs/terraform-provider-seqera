// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"github.com/seqeralabs/terraform-provider-seqera/internal/sdk/internal/utils"
)

type SecurityKeysUnionType string

const (
	SecurityKeysUnionTypeS3            SecurityKeysUnionType = "s3"
	SecurityKeysUnionTypeGithub        SecurityKeysUnionType = "github"
	SecurityKeysUnionTypeAzurerepos    SecurityKeysUnionType = "azurerepos"
	SecurityKeysUnionTypeAzureEntra    SecurityKeysUnionType = "azure_entra"
	SecurityKeysUnionTypeContainerReg  SecurityKeysUnionType = "container-reg"
	SecurityKeysUnionTypeTwAgent       SecurityKeysUnionType = "tw-agent"
	SecurityKeysUnionTypeK8s           SecurityKeysUnionType = "k8s"
	SecurityKeysUnionTypeSSH           SecurityKeysUnionType = "ssh"
	SecurityKeysUnionTypeGoogle        SecurityKeysUnionType = "google"
	SecurityKeysUnionTypeBitbucket     SecurityKeysUnionType = "bitbucket"
	SecurityKeysUnionTypeAzureCloud    SecurityKeysUnionType = "azure-cloud"
	SecurityKeysUnionTypeLocal         SecurityKeysUnionType = "local"
	SecurityKeysUnionTypeGitea         SecurityKeysUnionType = "gitea"
	SecurityKeysUnionTypeSeqeracompute SecurityKeysUnionType = "seqeracompute"
	SecurityKeysUnionTypeCodecommit    SecurityKeysUnionType = "codecommit"
	SecurityKeysUnionTypeGitlab        SecurityKeysUnionType = "gitlab"
	SecurityKeysUnionTypeAws           SecurityKeysUnionType = "aws"
	SecurityKeysUnionTypeAzure         SecurityKeysUnionType = "azure"
)

type SecurityKeysUnion struct {
	AwsSecurityKeys           *AwsSecurityKeys           `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	GoogleSecurityKeys        *GoogleSecurityKeys        `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	GitHubSecurityKeys        *GitHubSecurityKeys        `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	GitLabSecurityKeys        *GitLabSecurityKeys        `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	BitBucketSecurityKeys     *BitBucketSecurityKeys     `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	GiteaSecurityKeys         *GiteaSecurityKeys         `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	SSHSecurityKeys           *SSHSecurityKeys           `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	K8sSecurityKeys           *K8sSecurityKeys           `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	AzureSecurityKeys         *AzureSecurityKeys         `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	AzureCloudKeys            *AzureCloudKeys            `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	AzureReposSecurityKeys    *AzureReposSecurityKeys    `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	ContainerRegistryKeys     *ContainerRegistryKeys     `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	AgentSecurityKeys         *AgentSecurityKeys         `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	CodeCommitSecurityKeys    *CodeCommitSecurityKeys    `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	AzureEntraKeys            *AzureEntraKeys            `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	SeqeraComputeSecurityKeys *SeqeraComputeSecurityKeys `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	S3SecurityKeys            *S3SecurityKeys            `queryParam:"inline,name=SecurityKeysUnion" union:"member"`
	LocalSecurityKeys         *LocalSecurityKeys         `queryParam:"inline,name=SecurityKeysUnion" union:"member"`

	Type SecurityKeysUnionType
}

func CreateSecurityKeysUnionS3(s3 S3SecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeS3

	typStr := string(typ)
	s3.CredentialType = typStr

	return SecurityKeysUnion{
		S3SecurityKeys: &s3,
		Type:           typ,
	}
}

func CreateSecurityKeysUnionGithub(github GitHubSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeGithub

	typStr := string(typ)
	github.CredentialType = typStr

	return SecurityKeysUnion{
		GitHubSecurityKeys: &github,
		Type:               typ,
	}
}

func CreateSecurityKeysUnionAzurerepos(azurerepos AzureReposSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeAzurerepos

	typStr := string(typ)
	azurerepos.CredentialType = typStr

	return SecurityKeysUnion{
		AzureReposSecurityKeys: &azurerepos,
		Type:                   typ,
	}
}

func CreateSecurityKeysUnionAzureEntra(azureEntra AzureEntraKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeAzureEntra

	typStr := string(typ)
	azureEntra.CredentialType = typStr

	return SecurityKeysUnion{
		AzureEntraKeys: &azureEntra,
		Type:           typ,
	}
}

func CreateSecurityKeysUnionContainerReg(containerReg ContainerRegistryKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeContainerReg

	typStr := string(typ)
	containerReg.CredentialType = typStr

	return SecurityKeysUnion{
		ContainerRegistryKeys: &containerReg,
		Type:                  typ,
	}
}

func CreateSecurityKeysUnionTwAgent(twAgent AgentSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeTwAgent

	typStr := string(typ)
	twAgent.CredentialType = typStr

	return SecurityKeysUnion{
		AgentSecurityKeys: &twAgent,
		Type:              typ,
	}
}

func CreateSecurityKeysUnionK8s(k8s K8sSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeK8s

	typStr := string(typ)
	k8s.CredentialType = typStr

	return SecurityKeysUnion{
		K8sSecurityKeys: &k8s,
		Type:            typ,
	}
}

func CreateSecurityKeysUnionSSH(ssh SSHSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeSSH

	typStr := string(typ)
	ssh.CredentialType = typStr

	return SecurityKeysUnion{
		SSHSecurityKeys: &ssh,
		Type:            typ,
	}
}

func CreateSecurityKeysUnionGoogle(google GoogleSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeGoogle

	typStr := string(typ)
	google.CredentialType = typStr

	return SecurityKeysUnion{
		GoogleSecurityKeys: &google,
		Type:               typ,
	}
}

func CreateSecurityKeysUnionBitbucket(bitbucket BitBucketSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeBitbucket

	typStr := string(typ)
	bitbucket.CredentialType = typStr

	return SecurityKeysUnion{
		BitBucketSecurityKeys: &bitbucket,
		Type:                  typ,
	}
}

func CreateSecurityKeysUnionAzureCloud(azureCloud AzureCloudKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeAzureCloud

	typStr := string(typ)
	azureCloud.CredentialType = typStr

	return SecurityKeysUnion{
		AzureCloudKeys: &azureCloud,
		Type:           typ,
	}
}

func CreateSecurityKeysUnionLocal(local LocalSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeLocal

	typStr := string(typ)
	local.CredentialType = typStr

	return SecurityKeysUnion{
		LocalSecurityKeys: &local,
		Type:              typ,
	}
}

func CreateSecurityKeysUnionGitea(gitea GiteaSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeGitea

	typStr := string(typ)
	gitea.CredentialType = typStr

	return SecurityKeysUnion{
		GiteaSecurityKeys: &gitea,
		Type:              typ,
	}
}

func CreateSecurityKeysUnionSeqeracompute(seqeracompute SeqeraComputeSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeSeqeracompute

	typStr := string(typ)
	seqeracompute.CredentialType = typStr

	return SecurityKeysUnion{
		SeqeraComputeSecurityKeys: &seqeracompute,
		Type:                      typ,
	}
}

func CreateSecurityKeysUnionCodecommit(codecommit CodeCommitSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeCodecommit

	typStr := string(typ)
	codecommit.CredentialType = typStr

	return SecurityKeysUnion{
		CodeCommitSecurityKeys: &codecommit,
		Type:                   typ,
	}
}

func CreateSecurityKeysUnionGitlab(gitlab GitLabSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeGitlab

	typStr := string(typ)
	gitlab.CredentialType = typStr

	return SecurityKeysUnion{
		GitLabSecurityKeys: &gitlab,
		Type:               typ,
	}
}

func CreateSecurityKeysUnionAws(aws AwsSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeAws

	typStr := string(typ)
	aws.CredentialType = typStr

	return SecurityKeysUnion{
		AwsSecurityKeys: &aws,
		Type:            typ,
	}
}

func CreateSecurityKeysUnionAzure(azure AzureSecurityKeys) SecurityKeysUnion {
	typ := SecurityKeysUnionTypeAzure

	typStr := string(typ)
	azure.CredentialType = typStr

	return SecurityKeysUnion{
		AzureSecurityKeys: &azure,
		Type:              typ,
	}
}

func (u *SecurityKeysUnion) UnmarshalJSON(data []byte) error {

	type discriminator struct {
		CredentialType string `json:"credentialType"`
	}

	dis := new(discriminator)
	if err := json.Unmarshal(data, &dis); err != nil {
		return fmt.Errorf("could not unmarshal discriminator: %w", err)
	}

	switch dis.CredentialType {
	case "s3":
		s3SecurityKeys := new(S3SecurityKeys)
		if err := utils.UnmarshalJSON(data, &s3SecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == s3) type S3SecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.S3SecurityKeys = s3SecurityKeys
		u.Type = SecurityKeysUnionTypeS3
		return nil
	case "github":
		gitHubSecurityKeys := new(GitHubSecurityKeys)
		if err := utils.UnmarshalJSON(data, &gitHubSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == github) type GitHubSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.GitHubSecurityKeys = gitHubSecurityKeys
		u.Type = SecurityKeysUnionTypeGithub
		return nil
	case "azurerepos":
		azureReposSecurityKeys := new(AzureReposSecurityKeys)
		if err := utils.UnmarshalJSON(data, &azureReposSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == azurerepos) type AzureReposSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.AzureReposSecurityKeys = azureReposSecurityKeys
		u.Type = SecurityKeysUnionTypeAzurerepos
		return nil
	case "azure_entra":
		azureEntraKeys := new(AzureEntraKeys)
		if err := utils.UnmarshalJSON(data, &azureEntraKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == azure_entra) type AzureEntraKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.AzureEntraKeys = azureEntraKeys
		u.Type = SecurityKeysUnionTypeAzureEntra
		return nil
	case "container-reg":
		containerRegistryKeys := new(ContainerRegistryKeys)
		if err := utils.UnmarshalJSON(data, &containerRegistryKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == container-reg) type ContainerRegistryKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.ContainerRegistryKeys = containerRegistryKeys
		u.Type = SecurityKeysUnionTypeContainerReg
		return nil
	case "tw-agent":
		agentSecurityKeys := new(AgentSecurityKeys)
		if err := utils.UnmarshalJSON(data, &agentSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == tw-agent) type AgentSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.AgentSecurityKeys = agentSecurityKeys
		u.Type = SecurityKeysUnionTypeTwAgent
		return nil
	case "k8s":
		k8sSecurityKeys := new(K8sSecurityKeys)
		if err := utils.UnmarshalJSON(data, &k8sSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == k8s) type K8sSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.K8sSecurityKeys = k8sSecurityKeys
		u.Type = SecurityKeysUnionTypeK8s
		return nil
	case "ssh":
		sshSecurityKeys := new(SSHSecurityKeys)
		if err := utils.UnmarshalJSON(data, &sshSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == ssh) type SSHSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.SSHSecurityKeys = sshSecurityKeys
		u.Type = SecurityKeysUnionTypeSSH
		return nil
	case "google":
		googleSecurityKeys := new(GoogleSecurityKeys)
		if err := utils.UnmarshalJSON(data, &googleSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == google) type GoogleSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.GoogleSecurityKeys = googleSecurityKeys
		u.Type = SecurityKeysUnionTypeGoogle
		return nil
	case "bitbucket":
		bitBucketSecurityKeys := new(BitBucketSecurityKeys)
		if err := utils.UnmarshalJSON(data, &bitBucketSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == bitbucket) type BitBucketSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.BitBucketSecurityKeys = bitBucketSecurityKeys
		u.Type = SecurityKeysUnionTypeBitbucket
		return nil
	case "azure-cloud":
		azureCloudKeys := new(AzureCloudKeys)
		if err := utils.UnmarshalJSON(data, &azureCloudKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == azure-cloud) type AzureCloudKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.AzureCloudKeys = azureCloudKeys
		u.Type = SecurityKeysUnionTypeAzureCloud
		return nil
	case "local":
		localSecurityKeys := new(LocalSecurityKeys)
		if err := utils.UnmarshalJSON(data, &localSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == local) type LocalSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.LocalSecurityKeys = localSecurityKeys
		u.Type = SecurityKeysUnionTypeLocal
		return nil
	case "gitea":
		giteaSecurityKeys := new(GiteaSecurityKeys)
		if err := utils.UnmarshalJSON(data, &giteaSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == gitea) type GiteaSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.GiteaSecurityKeys = giteaSecurityKeys
		u.Type = SecurityKeysUnionTypeGitea
		return nil
	case "seqeracompute":
		seqeraComputeSecurityKeys := new(SeqeraComputeSecurityKeys)
		if err := utils.UnmarshalJSON(data, &seqeraComputeSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == seqeracompute) type SeqeraComputeSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.SeqeraComputeSecurityKeys = seqeraComputeSecurityKeys
		u.Type = SecurityKeysUnionTypeSeqeracompute
		return nil
	case "codecommit":
		codeCommitSecurityKeys := new(CodeCommitSecurityKeys)
		if err := utils.UnmarshalJSON(data, &codeCommitSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == codecommit) type CodeCommitSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.CodeCommitSecurityKeys = codeCommitSecurityKeys
		u.Type = SecurityKeysUnionTypeCodecommit
		return nil
	case "gitlab":
		gitLabSecurityKeys := new(GitLabSecurityKeys)
		if err := utils.UnmarshalJSON(data, &gitLabSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == gitlab) type GitLabSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.GitLabSecurityKeys = gitLabSecurityKeys
		u.Type = SecurityKeysUnionTypeGitlab
		return nil
	case "aws":
		awsSecurityKeys := new(AwsSecurityKeys)
		if err := utils.UnmarshalJSON(data, &awsSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == aws) type AwsSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.AwsSecurityKeys = awsSecurityKeys
		u.Type = SecurityKeysUnionTypeAws
		return nil
	case "azure":
		azureSecurityKeys := new(AzureSecurityKeys)
		if err := utils.UnmarshalJSON(data, &azureSecurityKeys, "", true, nil); err != nil {
			return fmt.Errorf("could not unmarshal `%s` into expected (CredentialType == azure) type AzureSecurityKeys within SecurityKeysUnion: %w", string(data), err)
		}

		u.AzureSecurityKeys = azureSecurityKeys
		u.Type = SecurityKeysUnionTypeAzure
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for SecurityKeysUnion", string(data))
}

func (u SecurityKeysUnion) MarshalJSON() ([]byte, error) {
	if u.AwsSecurityKeys != nil {
		return utils.MarshalJSON(u.AwsSecurityKeys, "", true)
	}

	if u.GoogleSecurityKeys != nil {
		return utils.MarshalJSON(u.GoogleSecurityKeys, "", true)
	}

	if u.GitHubSecurityKeys != nil {
		return utils.MarshalJSON(u.GitHubSecurityKeys, "", true)
	}

	if u.GitLabSecurityKeys != nil {
		return utils.MarshalJSON(u.GitLabSecurityKeys, "", true)
	}

	if u.BitBucketSecurityKeys != nil {
		return utils.MarshalJSON(u.BitBucketSecurityKeys, "", true)
	}

	if u.GiteaSecurityKeys != nil {
		return utils.MarshalJSON(u.GiteaSecurityKeys, "", true)
	}

	if u.SSHSecurityKeys != nil {
		return utils.MarshalJSON(u.SSHSecurityKeys, "", true)
	}

	if u.K8sSecurityKeys != nil {
		return utils.MarshalJSON(u.K8sSecurityKeys, "", true)
	}

	if u.AzureSecurityKeys != nil {
		return utils.MarshalJSON(u.AzureSecurityKeys, "", true)
	}

	if u.AzureCloudKeys != nil {
		return utils.MarshalJSON(u.AzureCloudKeys, "", true)
	}

	if u.AzureReposSecurityKeys != nil {
		return utils.MarshalJSON(u.AzureReposSecurityKeys, "", true)
	}

	if u.ContainerRegistryKeys != nil {
		return utils.MarshalJSON(u.ContainerRegistryKeys, "", true)
	}

	if u.AgentSecurityKeys != nil {
		return utils.MarshalJSON(u.AgentSecurityKeys, "", true)
	}

	if u.CodeCommitSecurityKeys != nil {
		return utils.MarshalJSON(u.CodeCommitSecurityKeys, "", true)
	}

	if u.AzureEntraKeys != nil {
		return utils.MarshalJSON(u.AzureEntraKeys, "", true)
	}

	if u.SeqeraComputeSecurityKeys != nil {
		return utils.MarshalJSON(u.SeqeraComputeSecurityKeys, "", true)
	}

	if u.S3SecurityKeys != nil {
		return utils.MarshalJSON(u.S3SecurityKeys, "", true)
	}

	if u.LocalSecurityKeys != nil {
		return utils.MarshalJSON(u.LocalSecurityKeys, "", true)
	}

	return nil, errors.New("could not marshal union type SecurityKeysUnion: all fields are null")
}
