// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/speakeasy/terraform-provider-seqera/internal/provider/types"
	"github.com/speakeasy/terraform-provider-seqera/internal/sdk/models/operations"
	"github.com/speakeasy/terraform-provider-seqera/internal/sdk/models/shared"
)

func (r *OrganizationDataSourceModel) ToOperationsDescribeOrganizationRequest(ctx context.Context) (*operations.DescribeOrganizationRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var orgID int64
	orgID = r.OrgID.ValueInt64()

	out := operations.DescribeOrganizationRequest{
		OrgID: orgID,
	}

	return &out, diags
}

func (r *OrganizationDataSourceModel) RefreshFromSharedDescribeOrganizationResponse(ctx context.Context, resp *shared.DescribeOrganizationResponse) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		if resp.Organization == nil {
			r.Organization = nil
		} else {
			r.Organization = &tfTypes.OrganizationDbDto{}
			r.Organization.Description = types.StringPointerValue(resp.Organization.Description)
			r.Organization.FullName = types.StringPointerValue(resp.Organization.FullName)
			r.Organization.Location = types.StringPointerValue(resp.Organization.Location)
			r.Organization.LogoID = types.StringPointerValue(resp.Organization.LogoID)
			r.Organization.LogoURL = types.StringPointerValue(resp.Organization.LogoURL)
			r.Organization.MemberID = types.Int64PointerValue(resp.Organization.MemberID)
			if resp.Organization.MemberRole != nil {
				r.Organization.MemberRole = types.StringValue(string(*resp.Organization.MemberRole))
			} else {
				r.Organization.MemberRole = types.StringNull()
			}
			r.Organization.Name = types.StringPointerValue(resp.Organization.Name)
			r.Organization.OrgID = types.Int64PointerValue(resp.Organization.OrgID)
			r.Organization.Paying = types.BoolPointerValue(resp.Organization.Paying)
			if resp.Organization.Type != nil {
				r.Organization.Type = types.StringValue(string(*resp.Organization.Type))
			} else {
				r.Organization.Type = types.StringNull()
			}
			r.Organization.Website = types.StringPointerValue(resp.Organization.Website)
		}
	}

	return diags
}
