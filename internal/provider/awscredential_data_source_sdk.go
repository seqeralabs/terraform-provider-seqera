// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/seqeralabs/terraform-provider-seqera/internal/provider/types"
	"github.com/seqeralabs/terraform-provider-seqera/internal/sdk/models/operations"
	"github.com/seqeralabs/terraform-provider-seqera/internal/sdk/models/shared"
)

func (r *AWSCredentialDataSourceModel) RefreshFromSharedDescribeAWSCredentialsResponse(ctx context.Context, resp *shared.DescribeAWSCredentialsResponse) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		if resp.Credentials == nil {
			r.Credentials = nil
		} else {
			r.Credentials = &tfTypes.AWSCredentialInput1{}
			r.Credentials.BaseURL = types.StringPointerValue(resp.Credentials.BaseURL)
			r.Credentials.Category = types.StringPointerValue(resp.Credentials.Category)
			r.Credentials.CredentialsID = types.StringPointerValue(resp.Credentials.CredentialsID)
			r.Credentials.Description = types.StringPointerValue(resp.Credentials.Description)
			r.Credentials.Keys.AccessKey = types.StringPointerValue(resp.Credentials.Keys.AccessKey)
			r.Credentials.Keys.AssumeRoleArn = types.StringPointerValue(resp.Credentials.Keys.AssumeRoleArn)
			r.Credentials.Name = types.StringValue(resp.Credentials.Name)
			r.Credentials.ProviderType = types.StringValue(string(resp.Credentials.ProviderType))
		}
	}

	return diags
}

func (r *AWSCredentialDataSourceModel) ToOperationsDescribeAWSCredentialsRequest(ctx context.Context) (*operations.DescribeAWSCredentialsRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var credentialsID string
	credentialsID = r.CredentialsID.ValueString()

	workspaceID := new(int64)
	if !r.WorkspaceID.IsUnknown() && !r.WorkspaceID.IsNull() {
		*workspaceID = r.WorkspaceID.ValueInt64()
	} else {
		workspaceID = nil
	}
	out := operations.DescribeAWSCredentialsRequest{
		CredentialsID: credentialsID,
		WorkspaceID:   workspaceID,
	}

	return &out, diags
}
